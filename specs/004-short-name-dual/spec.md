# 功能規格：雙模式文章導覽

**功能分支**：`004-short-name-dual`
**建立日期**：2025-10-19
**狀態**：草稿
**輸入**：使用者描述：「我們的部落格文章分為兩種：單篇的技術文章 及 系列文章 上一頁/下一頁的 功能兩種文章都要實現，但邏輯兩者不一樣。前者以時間進行排序 越新的越前面，後者則反之」

> 提醒：所有段落必須以繁體中文撰寫，並遵守《CodeMachine0121 技術分享部落格憲章》。

## 使用者情境與測試（必填）

> 請依優先度排序使用者旅程。每個故事必須能獨立實作、測試與發佈，確保符合「知識分享須可驗證」原則。

### 使用者故事 1－讀者在單篇技術文章之間導覽（優先度：P1）

讀者在閱讀完一篇獨立的技術文章後，可以點擊「上一篇」或「下一篇」按鈕，以跳轉到按時間排序的相鄰文章。

**優先度原因**：此為部落格最基礎的導覽功能，滿足大量閱讀單篇文章的讀者需求。
**獨立測試方式**：在單篇文章頁面，驗證導覽按鈕的連結是否指向正確的、按時間排序的相鄰文章。

**驗收情境**：

1.  **Given** 讀者正在瀏覽一篇非系列文章，**When** 讀者點擊導覽按鈕，**Then** 頁面應跳轉到正確的、按時間排序的相鄰**單篇**文章。

### 使用者故事 2－讀者在系列文章內部導覽（優先度：P1）

讀者在閱讀一篇屬於某個系列的文章時，可以點擊「上一篇」或「下一篇」按鈕，以跳轉到該系列中順序相鄰的文章。

**優先度原因**：系列文章具有連貫性，順暢的內部導覽對學習體驗至關重要。
**獨立測試方式**：在系列文章頁面，驗證導覽按鈕的連結是否指向同一系列中，順序正確的相鄰文章。

**驗收情境**：

1.  **Given** 讀者正在瀏覽一篇系列文章，**When** 讀者點擊導覽按鈕，**Then** 頁面應跳轉到同一系列中，由 `seriesIndex` 定義的相鄰文章。

### 邊界情境

- 當讀者瀏覽的是時間上最新的一篇單篇文章時，不應顯示指向更新文章的按鈕。
- 當讀者瀏覽的是時間上最舊的一篇單篇文章時，不應顯示指向更舊文章的按鈕。
- 當讀者瀏覽的是系列中的第一篇文章時，不應顯示「上一篇」按鈕。
- 當讀者瀏覽的是系列中的最後一篇文章時，不應顯示「下一篇」按鈕。

## 需求（必填）

> 將需求拆解為可驗證項目。若資訊不足，請以 `NEEDS CLARIFICATION` 註記待確認事項。

### 功能性需求

- **FR-001**：系統必須在所有文章頁面底部顯示一個導覽區塊。
- **FR-002**：導覽區塊必須能區分文章屬於「單篇文章」還是「系列文章」。
- **FR-003**：對於「單篇文章」，導覽邏輯必須基於**發表日期**進行排序。
- **FR-004**：對於「系列文章」，導覽邏輯必須基於文章前置資料中的 `seriesIndex` 欄位進行排序。
- **FR-005**：導覽按鈕上必須顯示相鄰文章的標題。
- **FR-006**：對於單篇文章，「上一篇」按鈕應指向時間上**較新**的文章，「下一篇」按鈕則指向時間上**較舊**的文章。

## 成功準則（必填）

> 成功指標需可量測、可驗證，並與使用者價值或營運目標對齊。

### 可量測成果

- **SC-001**：單篇文章的導覽連結，必須嚴格遵守發表日期的時間順序。
- **SC-002**：系列文章的導覽連結，必須嚴格遵守 `seriesIndex` 的順序，且不能連結到系列之外的文章。
- **SC-003**：功能上線後，使用者平均頁面停留時間增加 15%。