---
const { id, title, achievements } = Astro.props;
---

<div id={id} class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden">
  <div class="bg-background p-8 rounded-lg shadow-xl w-11/12 md:w-1/2 lg:w-1/3 relative">
    <button class="absolute top-4 right-4 text-offset hover:text-primary" data-close-button>&times;</button>
    <h3 class="text-2xl font-bold mb-4">{title} - Achievements</h3>
    <ul class="list-disc pl-5 space-y-2">
      {achievements && achievements.map((achievement: string) => (
        <li>{achievement}</li>
      ))}
    </ul>
  </div>
</div>

<script>
  document.querySelectorAll('[data-close-button]').forEach(button => {
    button.addEventListener('click', () => {
      const modal = button.closest('.fixed');
      if (modal) {
        modal.classList.add('hidden');
      }
    });
  });

  window.addEventListener('click', (event) => {
    const modal = document.querySelector('.fixed:not(.hidden)');
    if (modal && event.target === modal) {
      modal.classList.add('hidden');
    }
  });
</script>
