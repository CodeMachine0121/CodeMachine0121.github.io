---
import { getCollection } from 'astro:content';
import type { CollectionEntry } from "astro:content";
import Layout from '../../layouts/Layout.astro';
import BlogList from '../../components/sections/blog/BlogList.astro';

const allBlogs: CollectionEntry<"blogs">[] = 
    (await getCollection("blogs"))
        .filter(blog => blog.data.image) // Filter out blogs without images
        .sort((a, b) => new Date(b.data.datetime).getTime() - new Date(a.data.datetime).getTime());
---

<Layout title="Blogs">
    <BlogList blogs={allBlogs} />
</Layout>
